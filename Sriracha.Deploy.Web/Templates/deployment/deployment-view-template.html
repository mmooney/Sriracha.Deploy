<h2>View Deployment</h2>

<hr />
<table class="table table-striped table-bordered">
    <tr>
        <th>Project/Component/Branch</th>
        <td>
            <a ng-href="{{navigator.project.view.clientUrl(deployState.build.projectId)}}">{{deployState.build.projectName}}</a> - 
            <a ng-href="{{navigator.component.view.clientUrl(deployState.build.projectId, deployState.build.projectComponentId)}}" >{{deployState.build.projectComponentName}}</a> - 
            <a ng-href="{{navigator.branch.edit.clientUrl(deployState.build.projectId, deployState.build.projectBranchId)}}">{{deployState.build.projectBranchName}}</a>
        </td>
    </tr>
    <tr>
        <th>Environment/Machine</th>
        <td>
            <a ng-href="{{navigator.environment.edit.clientUrl(deployState.environment.projectId, deployState.environment.id)}}">{{deployState.environment.environmentName}}</a>
            <span ng-repeat="machine in deployState.machineList">
                - <a ng-href="{{navigator.environment.edit.clientUrl(deployState.environment.projectId, deployState.environment.id)}}">{{machine.machineName}}</a>
            </span>
        </td>
    </tr>
    <tr>
        <th>Build</th>
        <td><a href="{{navigator.build.view.clientUrl(deployState.build.id)}}">{{deployState.build.displayValue}}</a></td>
    </tr>
    <tr>
        <th>Submitted Date</th>
        <td>{{deployState.submittedDateTimeUtc | displayDateTimeShort}}</td>
    </tr>
    <tr>
        <th>Started Date</th>
        <td>{{deployState.deploymentStartedDateTimeUtc | displayDateTimeShort}}</td>
    </tr>
    <tr>
        <th>Completed Date</th>
        <td>{{deployState.deploymentCompleteDateTimeUtc | displayDateTimeShort}}</td>
    </tr>
	<tr>
		<th>Status</th>
		<td>{{deployState.statusDisplayValue}}</td>
	</tr>
</table>
<div ng-show="deployState.errorDetails" class="error">
	<h3>Error Details: </h3> 
	<pre>{{deployState.errorDetails}}</pre>
</div>
<h3>Deployment Log</h3>
<table class="table table-striped table-bordered">
	<thead>
		<tr>
			<th>Date/Time</th>
			<th>Message</th>
		</tr>
	</thead>
	<tr ng-repeat="item in deployState.messageList | orderBy:'-dateTimeUtc'">
		<td>{{item.dateTimeUtc | displayDateTimeShort}}</td>
		<td><pre>{{item.message}}</pre></td>
	</tr>
</table>
